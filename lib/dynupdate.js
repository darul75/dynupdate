/** 
* @license dynupdate - v0.0.1
* (c) 2013 Julien VALERY https://github.com/darul75/dynupdate
* License: MIT 
**/
function DynUpdate(){this.options={},this.init(),this.dynupdate(this.options,function(a,b){a&&console.log(a),console.log(b)})}var http=require("http"),serviceHost="dynupdate.no-ip.com",servicePath="/nic/update";DynUpdate.prototype.init=function(){var a=process.argv.splice(2);if(!(a.length<=2||a.length>4))return a.forEach(function(a,b){console.log(b+": "+a)}),this.options.auth=a[0],this.options.hostname=a[1],this.options.myip=a[2],this.options.offline=a[3],this},DynUpdate.prototype.dynupdate=function(a,b){var c,d,e,f;if(a.auth&&a.hostname&&a.myip){c=a.hostname||void 0,d=a.myip||void 0,e=a.offline||void 0,f=a.auth||void 0;var g=e?"&offline=YES":"",h="?hostname="+c+"&myip="+d+g,i={hostname:serviceHost,path:servicePath+h,method:"GET",port:80,auth:f},j=http.request(i,function(a){a.setEncoding("utf8");var c="";a.on("data",function(a){c+=a}),a.on("end",function(){return b(null,c)})});return j.on("error",function(a){return b(a)}),j.setTimeout(1e3,function(){return b(new Error("timeout"))}),j.end(),this}};var dynupdate=new DynUpdate;module.exports=dynupdate;